execute as @s[tag=craft_forge] unless block ~ ~-1 ~ minecraft:trapped_chest run function swf:blocks/break_forge

execute as @s[tag=craft_forge] at @s unless block ~ ~-1 ~ minecraft:trapped_chest{Items: [{Slot: 0b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 4b, id: "minecraft:shears", Count: 1b, tag: {clearnow: 1, Unbreakable: 1, HideFlags: 63, display: {Name: "{\"text\":\"Cutting & Pruning\",\"italic\":false}"}}}, {Slot: 6b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 7b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 8b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 9b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 13b, id: "minecraft:iron_pickaxe", Count: 1b, tag: {clearnow: 1, Unbreakable: 1, HideFlags: 63, display: {Name: "{\"text\":\"Mining & Carving\",\"italic\":false}"}}}, {Slot: 16b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 17b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 18b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 22b, id: "minecraft:iron_axe", Count: 1b, tag: {clearnow: 1, Unbreakable: 1, HideFlags: 63, display: {Name: "{\"text\":\"Chopping & Breaking\",\"italic\":false}"}}}, {Slot: 24b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 25b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 26b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 1}}]} run function swf:base/guicover
execute as @s[tag=craft_forge] at @s if block ~ ~-1 ~ minecraft:trapped_chest[type=single]{Items: [{Slot: 0b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 4b, id: "minecraft:shears", Count: 1b, tag: {clearnow: 1, Unbreakable: 1, HideFlags: 63, display: {Name: "{\"text\":\"Cutting & Pruning\",\"italic\":false}"}}}, {Slot: 6b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 7b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 8b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 9b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 13b, id: "minecraft:iron_pickaxe", Count: 1b, tag: {clearnow: 1, Unbreakable: 1, HideFlags: 63, display: {Name: "{\"text\":\"Mining & Carving\",\"italic\":false}"}}}, {Slot: 16b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 17b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 18b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 22b, id: "minecraft:iron_axe", Count: 1b, tag: {clearnow: 1, Unbreakable: 1, HideFlags: 63, display: {Name: "{\"text\":\"Chopping & Breaking\",\"italic\":false}"}}}, {Slot: 24b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 25b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 26b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 1}}]} run setblock ~ ~-1 ~ minecraft:trapped_chest[type=left]{CustomName:"{\"text\":\"Crafting Forge\"}", Items: [{Slot: 0b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 4b, id: "minecraft:shears", Count: 1b, tag: {clearnow:1,Unbreakable: 1, HideFlags: 63, display: {Name: "{\"text\":\"Cutting & Pruning\",\"italic\":false}"}}}, {Slot: 5b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 6b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 7b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 8b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 9b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 13b, id: "minecraft:iron_pickaxe", Count: 1b, tag: {clearnow:1,Unbreakable: 1, HideFlags: 63, display: {Name: "{\"text\":\"Mining & Carving\",\"italic\":false}"}}}, {Slot: 14b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 16b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 17b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 22b, id: "minecraft:iron_axe", Count: 1b, tag: {clearnow:1,Unbreakable: 1, HideFlags: 63, display: {Name: "{\"text\":\"Chopping & Breaking\",\"italic\":false}"}}}, {Slot: 23b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 24b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 25b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 59}}, {Slot: 26b, id: "minecraft:wooden_shovel", Count: 1b, tag: {Unbreakable: 1, HideFlags: 63, display: {Name: "\"\""}, Damage: 1}}]}

execute as @s[tag=craft_forge] at @s store result score @s property_2 run data get block ~ ~-0.5 ~ Items[12].Slot 1

# Sledge Hammer =========================================================================================================================================================
execute at @e[tag=no_hammer,scores={craft_forge=4..}] if block ~ ~-1 ~ minecraft:trapped_chest{Items: [{Slot: 5b, id: "minecraft:wooden_shovel", Count: 1b, tag:{Unbreakable:1b, HideFlags: 63, display: {Name: "{\"text\":\"Sledge Hammer\",\"italic\":false}"},Damage:3,nerf_mining:1b}}]} run summon armor_stand ~ ~0.1 ~ {NoGravity:1b, Pose: {Head: [0.0f, 0.0f, 0.0f], Body: [0.0f, 0.0f, 0.0f]},HandItems:[{id:"minecraft:wooden_shovel",Count:1b,tag:{Unbreakable:1b,Damage:4}},{}],Invulnerable:1b,Marker:1b,Invisible:1b,Tags:["craft_hammer"]}
execute as @e[scores={craft_forge=4..}] at @s if entity @e[type=minecraft:armor_stand,tag=craft_hammer,distance=0..1] run tp @e[tag=craft_hammer,sort=nearest,limit=1,distance=0..1] ~ ~ ~ ~ ~
tag @s add no_hammer
execute at @e[tag=craft_hammer] run tag @e[tag=craft_forge,limit=1,distance=0..1] remove no_hammer
execute at @e[tag=craft_hammer] run execute at @e[tag=craft_forge,limit=1,distance=0..1] run replaceitem block ~ ~-1 ~ container.5 minecraft:wooden_shovel{clearnow:1,Damage:3b,Unbreakable:1b, HideFlags: 63, display: {Name: "{\"text\":\"Smashing & Crushing\",\"italic\":false}"}}
execute at @e[scores={craft_forge=4..},tag=no_hammer] run replaceitem block ~ ~-1 ~ container.5 minecraft:wooden_shovel{Unbreakable:1,Damage:59, display: {Name: "\"\""},HideFlags:63}

# Spatula And Mortar ====================================================================================================================================================
execute at @e[tag=no_mortaring,scores={craft_forge=4..}] if block ~ ~-1 ~ minecraft:trapped_chest{Items: [{Slot: 14b, id: "minecraft:wooden_axe", Count: 1b, tag:{Unbreakable:1b,Damage:1,nerf_attack:1b,nerf_mining:1b, HideFlags: 63, display: {Name: "{\"text\":\"Spatula And Mortar\",\"italic\":false}"}}}]} run summon armor_stand ~ ~ ~ {NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,Tags:["craft_mortaring"]}
tag @s add no_mortaring
execute at @e[tag=craft_mortaring] run tag @e[tag=craft_forge,limit=1,distance=0..1] remove no_mortaring
execute at @e[tag=craft_mortaring] run execute at @e[tag=craft_forge,limit=1,distance=0..1] run replaceitem block ~ ~-1 ~ container.14 minecraft:wooden_axe{clearnow:1,Damage:1b,Unbreakable:1b, HideFlags: 63, display: {Name: "{\"text\":\"Mortaring & Covering\",\"italic\":false}"}}
execute at @e[scores={craft_forge=4..},tag=no_mortaring] run replaceitem block ~ ~-1 ~ container.14 minecraft:wooden_shovel{Unbreakable:1,Damage:59, display: {Name: "\"\""},HideFlags:63}




# Forge recipes =========================================================================================================================================================
execute if entity @s[scores={property_2=..21}] run function swf:crafting/anti_collapse
execute as @s[scores={property_2=..21},tag=craftnow] at @s run function swf:crafting/patterns_check

